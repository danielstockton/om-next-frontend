;; Analyzed by ClojureScript 1.7.228
{:use-macros {raise datascript.db}, :excludes #{}, :name datascript.query, :imports nil, :requires {da datascript.arrays, set clojure.set, dpp datascript.pull-parser, dpa datascript.pull-api, walk clojure.walk, datascript.parser datascript.parser, db datascript.db, clojure.set clojure.set, datascript.lru datascript.lru, datascript.db datascript.db, datascript.pull-parser datascript.pull-parser, datascript.pull-api datascript.pull-api, de datascript.impl.entity, dp datascript.parser, cljs.reader cljs.reader, clojure.walk clojure.walk, edn cljs.reader, datascript.arrays datascript.arrays, datascript.impl.entity datascript.impl.entity}, :uses {Constant datascript.parser, BindIgnore datascript.parser, FindTuple datascript.parser, SrcVar datascript.parser, FindColl datascript.parser, BindTuple datascript.parser, BindColl datascript.parser, BindScalar datascript.parser, PlainSymbol datascript.parser, FindRel datascript.parser, FindScalar datascript.parser, RulesVar datascript.parser, Variable datascript.parser}, :defs {solve-rule {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 519, :column 7, :end-line 519, :end-column 17, :arglists (quote ([context clause]))}, :name datascript.query/solve-rule, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 519, :end-line 519, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, matches-pattern? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 364, :column 7, :end-line 364, :end-column 23, :arglists (quote ([pattern tuple]))}, :name datascript.query/matches-pattern?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 23, :method-params ([pattern tuple]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 364, :end-line 364, :max-fixed-arity 2, :fn-var true, :arglists (quote ([pattern tuple]))}, aggregate {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 688, :column 7, :end-line 688, :end-column 16, :arglists (quote ([find-elements context resultset]))}, :name datascript.query/aggregate, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([find-elements context resultset]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 688, :end-line 688, :max-fixed-arity 3, :fn-var true, :arglists (quote ([find-elements context resultset]))}, query-cache {:name datascript.query/query-cache, :file "resources/public/js/datascript/query.cljc", :line 724, :column 1, :end-line 724, :end-column 27, :private true, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 724, :column 16, :end-line 724, :end-column 27, :private true}}, rel-prod-by-attrs {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 415, :column 8, :end-line 415, :end-column 25, :private true, :arglists (quote ([context attrs]))}, :private true, :name datascript.query/rel-prod-by-attrs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 25, :method-params ([context attrs]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 415, :end-line 415, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context attrs]))}, empty-rel {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 237, :column 7, :end-line 237, :end-column 16, :arglists (quote ([binding]))}, :name datascript.query/empty-rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([binding]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 237, :end-line 237, :max-fixed-arity 1, :fn-var true, :arglists (quote ([binding]))}, built-ins {:name datascript.query/built-ins, :file "resources/public/js/datascript/query.cljc", :line 148, :column 1, :end-line 148, :end-column 15, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 148, :column 6, :end-line 148, :end-column 15}}, pull {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 709, :column 8, :end-line 709, :end-column 12, :private true, :arglists (quote ([find-elements context resultset]))}, :private true, :name datascript.query/pull, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 12, :method-params ([find-elements context resultset]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 709, :end-line 709, :max-fixed-arity 3, :fn-var true, :arglists (quote ([find-elements context resultset]))}, ->Context {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 26, :column 12, :end-line 26, :end-column 19, :internal-ctor true, :factory :positional, :arglists (quote ([rels sources rules]))}, :name datascript.query/->Context, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([rels sources rules]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :positional, :line 26, :end-line 26, :max-fixed-arity 3, :fn-var true, :arglists (quote ([rels sources rules]))}, tuple-key-fn {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 310, :column 7, :end-line 310, :end-column 19, :arglists (quote ([getters]))}, :name datascript.query/tuple-key-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([getters]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 310, :end-line 310, :max-fixed-arity 1, :fn-var true, :arglists (quote ([getters]))}, resolve-pattern-lookup-refs {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 575, :column 7, :end-line 575, :end-column 34, :arglists (quote ([source pattern]))}, :name datascript.query/resolve-pattern-lookup-refs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 34, :method-params ([source pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 575, :end-line 575, :max-fixed-arity 2, :fn-var true, :arglists (quote ([source pattern]))}, bind-by-fn {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 445, :column 7, :end-line 445, :end-column 17, :arglists (quote ([context clause]))}, :name datascript.query/bind-by-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 445, :end-line 445, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, resolve-in {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 279, :column 7, :end-line 279, :end-column 17, :arglists (quote ([context [binding value]]))}, :name datascript.query/resolve-in, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([context p__23266]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 279, :end-line 279, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context [binding value]]))}, rule? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 469, :column 7, :end-line 469, :end-column 12, :arglists (quote ([context clause]))}, :name datascript.query/rule?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 12, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 469, :end-line 469, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, source? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 65, :column 7, :end-line 65, :end-column 14, :arglists (quote ([sym]))}, :name datascript.query/source?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 14, :method-params ([sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 65, :end-line 65, :max-fixed-arity 1, :fn-var true, :arglists (quote ([sym]))}, -q {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 624, :column 7, :end-line 624, :end-column 9, :arglists (quote ([context clauses]))}, :name datascript.query/-q, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 9, :method-params ([context clauses]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 624, :end-line 624, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clauses]))}, attr? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 73, :column 7, :end-line 73, :end-column 12, :arglists (quote ([form]))}, :name datascript.query/attr?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 12, :method-params ([form]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 73, :end-line 73, :max-fixed-arity 1, :fn-var true, :arglists (quote ([form]))}, -get-else {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 121, :column 8, :end-line 121, :end-column 17, :private true, :arglists (quote ([db e a else-val]))}, :private true, :name datascript.query/-get-else, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([db e a else-val]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 121, :end-line 121, :max-fixed-arity 4, :fn-var true, :arglists (quote ([db e a else-val]))}, intersect-keys {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 38, :column 7, :end-line 38, :end-column 21, :arglists (quote ([attrs1 attrs2]))}, :name datascript.query/intersect-keys, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([attrs1 attrs2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 38, :end-line 38, :max-fixed-arity 2, :fn-var true, :arglists (quote ([attrs1 attrs2]))}, or-fn {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 144, :column 8, :end-line 144, :end-column 13, :private true, :arglists (quote ([& args])), :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(args)], :arglists ([& args]), :arglists-meta (nil)}}, :private true, :name datascript.query/or-fn, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 13, :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(args)], :arglists ([& args]), :arglists-meta (nil)}, :method-params [(args)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 144, :end-line 144, :max-fixed-arity 0, :fn-var true, :arglists ([& args])}, rule-seqid {:name datascript.query/rule-seqid, :file "resources/public/js/datascript/query.cljc", :line 479, :column 1, :end-line 479, :end-column 16, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 479, :column 6, :end-line 479, :end-column 16}}, -collect {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 627, :column 7, :end-line 627, :end-column 15, :arglists (quote ([context symbols] [acc rels symbols])), :top-fn {:variadic false, :max-fixed-arity 3, :method-params ([context symbols] [acc rels symbols]), :arglists ([context symbols] [acc rels symbols]), :arglists-meta (nil nil)}}, :name datascript.query/-collect, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :top-fn {:variadic false, :max-fixed-arity 3, :method-params ([context symbols] [acc rels symbols]), :arglists ([context symbols] [acc rels symbols]), :arglists-meta (nil nil)}, :method-params ([context symbols] [acc rels symbols]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 627, :end-line 627, :max-fixed-arity 3, :fn-var true, :arglists ([context symbols] [acc rels symbols])}, q {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 733, :column 7, :end-line 733, :end-column 8, :arglists (quote ([q & inputs])), :top-fn {:variadic true, :max-fixed-arity 1, :method-params [(q inputs)], :arglists ([q & inputs]), :arglists-meta (nil)}}, :name datascript.query/q, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 8, :top-fn {:variadic true, :max-fixed-arity 1, :method-params [(q inputs)], :arglists ([q & inputs]), :arglists-meta (nil)}, :method-params [(q inputs)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 733, :end-line 733, :max-fixed-arity 1, :fn-var true, :arglists ([q & inputs])}, context-resolve-val {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 407, :column 8, :end-line 407, :end-column 27, :private true, :arglists (quote ([context sym]))}, :private true, :name datascript.query/context-resolve-val, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([context sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 407, :end-line 407, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context sym]))}, walk-collect {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 508, :column 7, :end-line 508, :end-column 19, :arglists (quote ([form pred]))}, :name datascript.query/walk-collect, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([form pred]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 508, :end-line 508, :max-fixed-arity 2, :fn-var true, :arglists (quote ([form pred]))}, lookup-pattern-coll {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 375, :column 7, :end-line 375, :end-column 26, :arglists (quote ([coll pattern]))}, :name datascript.query/lookup-pattern-coll, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 26, :method-params ([coll pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 375, :end-line 375, :max-fixed-arity 2, :fn-var true, :arglists (quote ([coll pattern]))}, IBinding {:meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 242, :column 14, :end-line 242, :end-column 22, :doc nil, :protocol-symbol true, :jsdoc ("@interface"), :protocol-info {:methods {in->rel [[binding value]]}}}, :protocol-symbol true, :name datascript.query/IBinding, :file "resources/public/js/datascript/query.cljc", :end-column 22, :column 1, :line 242, :protocol-info {:methods {in->rel [[binding value]]}}, :info nil, :end-line 242, :impls #{datascript.parser/BindColl datascript.parser/BindIgnore datascript.parser/BindScalar datascript.parser/BindTuple}, :doc nil, :jsdoc ("@interface")}, IContextResolve {:meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 655, :column 14, :end-line 655, :end-column 29, :doc nil, :protocol-symbol true, :jsdoc ("@interface"), :protocol-info {:methods {-context-resolve [[var context]]}}}, :protocol-symbol true, :name datascript.query/IContextResolve, :file "resources/public/js/datascript/query.cljc", :end-column 29, :column 1, :line 655, :protocol-info {:methods {-context-resolve [[var context]]}}, :info nil, :end-line 655, :impls #{datascript.parser/PlainSymbol datascript.parser/SrcVar datascript.parser/Constant datascript.parser/Variable}, :doc nil, :jsdoc ("@interface")}, rule-gen-guards {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 501, :column 7, :end-line 501, :end-column 22, :arglists (quote ([rule-clause used-args]))}, :name datascript.query/rule-gen-guards, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 22, :method-params ([rule-clause used-args]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 501, :end-line 501, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rule-clause used-args]))}, resolve-ins {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 290, :column 7, :end-line 290, :end-column 18, :arglists (quote ([context bindings values]))}, :name datascript.query/resolve-ins, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([context bindings values]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 290, :end-line 290, :max-fixed-arity 3, :fn-var true, :arglists (quote ([context bindings values]))}, remove-pairs {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 495, :column 7, :end-line 495, :end-column 19, :arglists (quote ([xs ys]))}, :name datascript.query/remove-pairs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([xs ys]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 495, :end-line 495, :max-fixed-arity 2, :fn-var true, :arglists (quote ([xs ys]))}, lru-cache-size {:name datascript.query/lru-cache-size, :file "resources/public/js/datascript/query.cljc", :line 21, :column 1, :end-line 21, :end-column 28, :const true, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 21, :column 14, :end-line 21, :end-column 28, :const true}}, concatv {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 42, :column 7, :end-line 42, :end-column 14, :arglists (quote ([& xs])), :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}}, :name datascript.query/concatv, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 14, :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}, :method-params [(xs)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 42, :end-line 42, :max-fixed-arity 0, :fn-var true, :arglists ([& xs])}, -missing? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 136, :column 8, :end-line 136, :end-column 17, :private true, :arglists (quote ([db e a]))}, :private true, :name datascript.query/-missing?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([db e a]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 136, :end-line 136, :max-fixed-arity 3, :fn-var true, :arglists (quote ([db e a]))}, rel-contains-attrs? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 412, :column 8, :end-line 412, :end-column 27, :private true, :arglists (quote ([rel attrs]))}, :private true, :name datascript.query/rel-contains-attrs?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([rel attrs]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 412, :end-line 412, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rel attrs]))}, prod-rel {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 97, :column 7, :end-line 97, :end-column 15, :arglists (quote ([] [rel1 rel2])), :top-fn {:variadic false, :max-fixed-arity 2, :method-params ([] [rel1 rel2]), :arglists ([] [rel1 rel2]), :arglists-meta (nil nil)}}, :name datascript.query/prod-rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :top-fn {:variadic false, :max-fixed-arity 2, :method-params ([] [rel1 rel2]), :arglists ([] [rel1 rel2]), :arglists-meta (nil nil)}, :method-params ([] [rel1 rel2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 97, :end-line 97, :max-fixed-arity 2, :fn-var true, :arglists ([] [rel1 rel2])}, lookup-pattern {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 387, :column 7, :end-line 387, :end-column 21, :arglists (quote ([source pattern]))}, :name datascript.query/lookup-pattern, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([source pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 387, :end-line 387, :max-fixed-arity 2, :fn-var true, :arglists (quote ([source pattern]))}, -aggregate {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 672, :column 7, :end-line 672, :end-column 17, :arglists (quote ([find-elements context tuples]))}, :name datascript.query/-aggregate, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([find-elements context tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 672, :end-line 672, :max-fixed-arity 3, :fn-var true, :arglists (quote ([find-elements context tuples]))}, -resolve-clause {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 596, :column 7, :end-line 596, :end-column 22, :arglists (quote ([context clause]))}, :name datascript.query/-resolve-clause, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 22, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 596, :end-line 596, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, *lookup-attrs* {:name datascript.query/*lookup-attrs*, :file "resources/public/js/datascript/query.cljc", :line 295, :column 1, :end-line 295, :end-column 30, :dynamic true, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 295, :column 16, :end-line 295, :end-column 30, :dynamic true}}, ->Relation {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 33, :column 12, :end-line 33, :end-column 20, :internal-ctor true, :factory :positional, :arglists (quote ([attrs tuples]))}, :name datascript.query/->Relation, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([attrs tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :positional, :line 33, :end-line 33, :max-fixed-arity 2, :fn-var true, :arglists (quote ([attrs tuples]))}, join-tuples {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 81, :column 7, :end-line 81, :end-column 18, :arglists (quote ([t1 idxs1 t2 idxs2]))}, :name datascript.query/join-tuples, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([t1 idxs1 t2 idxs2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 81, :end-line 81, :max-fixed-arity 4, :fn-var true, :arglists (quote ([t1 idxs1 t2 idxs2]))}, IPostProcess {:meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 696, :column 14, :end-line 696, :end-column 26, :doc nil, :protocol-symbol true, :jsdoc ("@interface"), :protocol-info {:methods {-post-process [[find tuples]]}}}, :protocol-symbol true, :name datascript.query/IPostProcess, :file "resources/public/js/datascript/query.cljc", :end-column 26, :column 1, :line 696, :protocol-info {:methods {-post-process [[find tuples]]}}, :info nil, :end-line 696, :impls #{datascript.parser/FindScalar datascript.parser/FindRel datascript.parser/FindTuple datascript.parser/FindColl}, :doc nil, :jsdoc ("@interface")}, looks-like? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 45, :column 8, :end-line 45, :end-column 19, :private true, :arglists (quote ([pattern form]))}, :private true, :name datascript.query/looks-like?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([pattern form]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 45, :end-line 45, :max-fixed-arity 2, :fn-var true, :arglists (quote ([pattern form]))}, dynamic-lookup-attrs {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 586, :column 7, :end-line 586, :end-column 27, :arglists (quote ([source pattern]))}, :name datascript.query/dynamic-lookup-attrs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([source pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 586, :end-line 586, :max-fixed-arity 2, :fn-var true, :arglists (quote ([source pattern]))}, lookup-ref? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 76, :column 7, :end-line 76, :end-column 18, :arglists (quote ([form]))}, :name datascript.query/lookup-ref?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([form]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 76, :end-line 76, :max-fixed-arity 1, :fn-var true, :arglists (quote ([form]))}, in->rel {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 243, :column 4, :end-line 243, :end-column 11, :protocol datascript.query/IBinding, :doc nil, :arglists (quote ([binding value]))}, :protocol datascript.query/IBinding, :name datascript.query/in->rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 11, :method-params ([binding value]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 242, :end-line 243, :max-fixed-arity 2, :fn-var true, :arglists (quote ([binding value])), :doc nil}, -get-some {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 127, :column 8, :end-line 127, :end-column 17, :private true, :arglists (quote ([db e & as])), :top-fn {:variadic true, :max-fixed-arity 2, :method-params [(db e as)], :arglists ([db e & as]), :arglists-meta (nil)}}, :private true, :name datascript.query/-get-some, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 17, :top-fn {:variadic true, :max-fixed-arity 2, :method-params [(db e as)], :arglists ([db e & as]), :arglists-meta (nil)}, :method-params [(db e as)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 127, :end-line 127, :max-fixed-arity 2, :fn-var true, :arglists ([db e & as])}, expand-rule {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 481, :column 7, :end-line 481, :end-column 18, :arglists (quote ([clause context used-args]))}, :name datascript.query/expand-rule, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([clause context used-args]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 481, :end-line 481, :max-fixed-arity 3, :fn-var true, :arglists (quote ([clause context used-args]))}, resolve-clause {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 614, :column 7, :end-line 614, :end-column 21, :arglists (quote ([context clause]))}, :name datascript.query/resolve-clause, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 614, :end-line 614, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, hash-join {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 327, :column 7, :end-line 327, :end-column 16, :arglists (quote ([rel1 rel2]))}, :name datascript.query/hash-join, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([rel1 rel2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 327, :end-line 327, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rel1 rel2]))}, -call-fn {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 420, :column 7, :end-line 420, :end-column 15, :arglists (quote ([context rel f args]))}, :name datascript.query/-call-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :method-params ([context rel f args]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 420, :end-line 420, :max-fixed-arity 4, :fn-var true, :arglists (quote ([context rel f args]))}, parse-rules {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 230, :column 7, :end-line 230, :end-column 18, :arglists (quote ([rules]))}, :name datascript.query/parse-rules, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([rules]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 230, :end-line 230, :max-fixed-arity 1, :fn-var true, :arglists (quote ([rules]))}, memoized-parse-query {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 726, :column 7, :end-line 726, :end-column 27, :arglists (quote ([q]))}, :name datascript.query/memoized-parse-query, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([q]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 726, :end-line 726, :max-fixed-arity 1, :fn-var true, :arglists (quote ([q]))}, built-in-aggregates {:name datascript.query/built-in-aggregates, :file "resources/public/js/datascript/query.cljc", :line 161, :column 1, :end-line 161, :end-column 25, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 161, :column 6, :end-line 161, :end-column 25}}, Context {:num-fields 3, :protocols #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IIterable cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}, :name datascript.query/Context, :file "resources/public/js/datascript/query.cljc", :end-column 19, :type true, :column 12, :internal-ctor true, :line 26, :record true, :end-line 26, :skip-protocol-flag #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}}, sum-rel {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 94, :column 7, :end-line 94, :end-column 14, :arglists (quote ([a b]))}, :name datascript.query/sum-rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 14, :method-params ([a b]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 94, :end-line 94, :max-fixed-arity 2, :fn-var true, :arglists (quote ([a b]))}, rel-with-attr {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 404, :column 8, :end-line 404, :end-column 21, :private true, :arglists (quote ([context sym]))}, :private true, :name datascript.query/rel-with-attr, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([context sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 404, :end-line 404, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context sym]))}, free-var? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 69, :column 7, :end-line 69, :end-column 16, :arglists (quote ([sym]))}, :name datascript.query/free-var?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 69, :end-line 69, :max-fixed-arity 1, :fn-var true, :arglists (quote ([sym]))}, map->Context {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 26, :column 12, :end-line 26, :end-column 19, :internal-ctor true, :factory :map, :arglists (quote ([G__23174]))}, :name datascript.query/map->Context, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([G__23174]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :map, :line 26, :end-line 26, :max-fixed-arity 1, :fn-var true, :arglists (quote ([G__23174]))}, -context-resolve {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 656, :column 4, :end-line 656, :end-column 20, :protocol datascript.query/IContextResolve, :doc nil, :arglists (quote ([var context]))}, :protocol datascript.query/IContextResolve, :name datascript.query/-context-resolve, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([var context]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 655, :end-line 656, :max-fixed-arity 2, :fn-var true, :arglists (quote ([var context])), :doc nil}, *lookup-source* {:name datascript.query/*lookup-source*, :file "resources/public/js/datascript/query.cljc", :line 296, :column 1, :end-line 296, :end-column 31, :dynamic true, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 296, :column 16, :end-line 296, :end-column 31, :dynamic true}}, Relation {:num-fields 2, :protocols #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IIterable cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}, :name datascript.query/Relation, :file "resources/public/js/datascript/query.cljc", :end-column 20, :type true, :column 12, :internal-ctor true, :line 33, :record true, :end-line 33, :skip-protocol-flag #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}}, filter-by-pred {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 431, :column 7, :end-line 431, :end-column 21, :arglists (quote ([context clause]))}, :name datascript.query/filter-by-pred, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 431, :end-line 431, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, split-guards {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 513, :column 7, :end-line 513, :end-column 19, :arglists (quote ([clauses guards]))}, :name datascript.query/split-guards, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([clauses guards]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 513, :end-line 513, :max-fixed-arity 2, :fn-var true, :arglists (quote ([clauses guards]))}, normalize-pattern-clause {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 382, :column 7, :end-line 382, :end-column 31, :arglists (quote ([clause]))}, :name datascript.query/normalize-pattern-clause, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 31, :method-params ([clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 382, :end-line 382, :max-fixed-arity 1, :fn-var true, :arglists (quote ([clause]))}, collect {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 650, :column 7, :end-line 650, :end-column 14, :arglists (quote ([context symbols]))}, :name datascript.query/collect, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 14, :method-params ([context symbols]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 650, :end-line 650, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context symbols]))}, map->Relation {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 33, :column 12, :end-line 33, :end-column 20, :internal-ctor true, :factory :map, :arglists (quote ([G__23182]))}, :name datascript.query/map->Relation, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([G__23182]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :map, :line 33, :end-line 33, :max-fixed-arity 1, :fn-var true, :arglists (quote ([G__23182]))}, bindable-to-seq? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 234, :column 7, :end-line 234, :end-column 23, :arglists (quote ([x]))}, :name datascript.query/bindable-to-seq?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 23, :method-params ([x]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 234, :end-line 234, :max-fixed-arity 1, :fn-var true, :arglists (quote ([x]))}, -differ? {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 117, :column 8, :end-line 117, :end-column 16, :private true, :arglists (quote ([& xs])), :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}}, :private true, :name datascript.query/-differ?, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 16, :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}, :method-params [(xs)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 117, :end-line 117, :max-fixed-arity 0, :fn-var true, :arglists ([& xs])}, hash-attrs {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 318, :column 7, :end-line 318, :end-column 17, :arglists (quote ([key-fn tuples]))}, :name datascript.query/hash-attrs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([key-fn tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 318, :end-line 318, :max-fixed-arity 2, :fn-var true, :arglists (quote ([key-fn tuples]))}, lookup-pattern-db {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 355, :column 7, :end-line 355, :end-column 24, :arglists (quote ([db pattern]))}, :name datascript.query/lookup-pattern-db, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 24, :method-params ([db pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 355, :end-line 355, :max-fixed-arity 2, :fn-var true, :arglists (quote ([db pattern]))}, -post-process {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 697, :column 4, :end-line 697, :end-column 17, :protocol datascript.query/IPostProcess, :doc nil, :arglists (quote ([find tuples]))}, :protocol datascript.query/IPostProcess, :name datascript.query/-post-process, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([find tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 696, :end-line 697, :max-fixed-arity 2, :fn-var true, :arglists (quote ([find tuples])), :doc nil}, and-fn {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 140, :column 8, :end-line 140, :end-column 14, :private true, :arglists (quote ([& args])), :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(args)], :arglists ([& args]), :arglists-meta (nil)}}, :private true, :name datascript.query/and-fn, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 14, :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(args)], :arglists ([& args]), :arglists-meta (nil)}, :method-params [(args)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 140, :end-line 140, :max-fixed-arity 0, :fn-var true, :arglists ([& args])}, collapse-rels {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 394, :column 7, :end-line 394, :end-column 20, :arglists (quote ([rels new-rel]))}, :name datascript.query/collapse-rels, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([rels new-rel]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 394, :end-line 394, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rels new-rel]))}, idxs-of {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 684, :column 8, :end-line 684, :end-column 15, :private true, :arglists (quote ([pred coll]))}, :private true, :name datascript.query/idxs-of, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :method-params ([pred coll]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 684, :end-line 684, :max-fixed-arity 2, :fn-var true, :arglists (quote ([pred coll]))}, getter-fn {:protocol-inline nil, :meta {:file "/home/daniel/code/om-next-frontend/resources/public/js/datascript/query.cljc", :line 298, :column 7, :end-line 298, :end-column 16, :arglists (quote ([attrs attr]))}, :name datascript.query/getter-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([attrs attr]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 298, :end-line 298, :max-fixed-arity 2, :fn-var true, :arglists (quote ([attrs attr]))}}, :require-macros {db datascript.db, datascript.db datascript.db, da datascript.arrays, datascript.arrays datascript.arrays, dp datascript.parser, datascript.parser datascript.parser}, :cljs.analyzer/constants {:seen #{:used-args :args :find subs get-else println-str :tuples = rand-int dec :where :v :fn < :variable re-seq some? range sum :else pos? neg? tuples :bindings :symbol :sources <= :query/binding * min prn-str :value :prefix-context get-some identity meta empty? quot stddev not= ground rand > :source even? _ :rules pr-str sources mod - or name :rels zero? :binding rem nil? variance :var re-find not type identical? $ :with :pending-guards true? rules / >= not-empty distinct :attrs sample :error re-matches rels :clauses odd? :form inc + missing? median str false? max :query/where != == count :prefix-clauses -differ? compare complement count-distinct and :a print-str attrs avg :in :pattern}, :order [:rels :sources :rules rels sources rules :attrs :tuples attrs tuples _ * :else :v :a true? and odd? get-else >= print-str > count get-some nil? inc / quot false? not identity -differ? re-seq <= = min + name missing? ground rand-int complement == compare range max empty? pr-str println-str meta zero? != prn-str dec not= str < - some? pos? rand re-matches subs mod rem even? type neg? not-empty or identical? re-find variance median sum count-distinct distinct avg stddev sample :symbol :variable :error :value :binding :query/binding :bindings $ :form :var :query/where :prefix-clauses :prefix-context :clauses :used-args :pending-guards :fn :args :source :pattern :find :with :where :in]}, :doc nil}